<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="member">

	<insert id="insertMember" parameterType="member">
		INSERT INTO emp
		(emp_no, emp_name, emp_id, dept_no, hiredate, position)
		VALUES (#{emp_no}, #{emp_name}, #{emp_id}, #{dept_no}, #{hiredate}, #{position})
	</insert>
	
	<select id="selectSigninMember" parameterType="member" resultType="int">
		SELECT COUNT(*) 
		FROM emp
		WHERE emp_id=#{emp_id} 
		AND emp_pw=#{emp_pw}
	</select>
	
	 <select id="selectUserOne" parameterType="int" resultType="member">
	 	SELECT emp_no, emp_name, emp_id, dept_no, TO_CHAR(hiredate, 'YYYY/MM/DD') hiredate, position FROM emp WHERE emp_no=#{emp_no}
	 </select>
	 
	 <select id="selectUserID" parameterType="String" resultType="String">
	 	SELECT emp_id
	 	FROM emp
	 	WHERE deleteflag='N'
	 	AND emp_id=#{emp_id}
	 
	 </select>
	 
	 <update id="updateUser" parameterType="member">
	 	UPDATE emp
	 	SET emp_name=#{emp_name},
	 		emp_id=#{emp_id},
	 		dept_no=#{dept_no},
	 		hiredate=#{hiredate},
	 		position=#{position}
	 	WHERE deleteflag='N'
	 	AND emp_no=#{emp_no}
	</update>
	 
	 <update id="deleteUser" parameterType="member">
	 	UPDATE emp
	 	SET deleteflag = 'Y'
	 	WHERE emp_no=#{emp_no}
	 </update>
	 
	 
</mapper>